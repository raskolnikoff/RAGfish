## RAGpack ZIP as Unified Knowledge Package; Tokenizer Removal; QA History in App

- Status: Proposed
- Date: 2025-08-01

## Context
The original architecture involved separate tokenizer classes and multiple files for embeddings and chunks. Over time, there has been a growing need for a unified, portable, and easily shareable archive format. Additionally, requirements emerged for private on-device retrieval-augmented generation (RAG) and a multi-RAGpack user experience. The broader community trend has moved toward pack-based RAG solutions. Motivated by the desire to simplify import/export processes and enable thread-based QA, the architecture has evolved accordingly.

## Decision
The architecture has migrated to using the RAGpack ZIP format as the sole container for all document embeddings, chunks, and metadata. Tokenizer classes and per-file handling have been removed from the core system; all knowledge is now managed within a single .zip archive. QA history and thread management have been implemented within the NoesisNoema app rather than in the core or pipeline components. All diagrams, documentation, and APIs have been updated to reflect this unification and the deprecation of prior approaches.

## Consequences
This change results in an easier user experience and onboarding process due to single-file import and export. The RAGpacks are now more robust and portable, enhancing privacy by enabling on-device use. The architecture is more extensible, supporting future peer-to-peer sharing, multi-application use, and QA feature expansions. While some granular control over tokenizers and individual files has been lost, maintainability has significantly improved. The pipeline, app, and community ecosystem are now better aligned with modern RAG practices. Future updates may further enhance the user interface, right-pane functionality, and pack formats.